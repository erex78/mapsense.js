---
---
<h2>topoJson</h2>

<blockquote>A layer that contains <a href="https://github.com/mbostock/topojson/wiki" target="_blank">TopoJSON</a> features.  Extends
  <a href="geoJson.html">geoJson</a>,
  <a href="layer.html">layer</a>,
  <a href="dispatch.html">dispatch</a>.
</blockquote>

<div class="row">
  <div class="col-md-4">
  <a href="#mapsense.topoJson">topoJson</a><br>
  <a href="#mapsense.staticTopology">staticTopology</a><br>
  <a href="#mapsense.topologyFeatures">topologyFeatures</a><br>
  <a href="#mapsense.clasify">classify</a><br>
  </div>
</div>

<hr class="space"/>

<dl class="function" id="mapsense.topoJson">
  <dt>
    <i>mapsense</i>.<b>topoJson</b>([<i>f</i>])
  </dt>
  <dd>
    <p>Constructs a new TopoJSON layer with default settings.</p>

    <p>An optional fetch function <i>f</i> may be specified, which
    defaults to <a href="queue.html#mapsense.queue.json"><tt><i>mapsense</i
    >.queue.json</tt></a>. The fetch function takes two arguments:
    the URL to fetch as a string, and a callback function. The fetch
    function must return a request object with an <a
    href="queue.html#request.abort"><tt>abort</tt></a> method. The
    callback function should be invoked with the TopoJSON data when
    available.</p>

    <p>The fetch function may be substituted to support TopoJSON
    transcoding.</p>
  </dd>
</dl>

<dl class="function" id="mapsense.staticTopology">
  <dt>
    <i>topoJson</i>.<b>staticTopology</b>([<i>x</i>])
  </dt>
  <dd>
    <p>Sets or gets the &ldquo;hard-coded&rdquo; topology for this
    TopoJSON layer. If the argument <i>x</i> is specified, this method
    sets the topology to the given TopoJSON <a
    href="https://github.com/mbostock/topojson/wiki" target="_blank">topology</a>
    and returns <tt>this</tt>. If no arguments are
    specified, this method returns the current topology, which
    defaults to null.</p>

    <p>The purpose of this method is to support non-tiled TopoJSON
    layers that are loaded through external means, such as via <a
    href="http://en.wikipedia.org/wiki/JSON#JSONP" target="_blank">JSONP</a> or directly
    embedded in the HTML. Specifying the topology has the
    additional side-effect of disabling <a href="layer.html#tile"
    >tiling</a> and <a href="d3GeoJson.html#clip">clipping</a>.</p>
  </dd>
</dl>

<dl class="function" id="mapsense.topologyFeatures">
  <dt>
    <i>topoJson</i>.<b>topologyFeatures</b>([<i>x</i>])
  </dt>
  <dd>
    <p>Sets or gets the function used for converting a TopoJSON
    topology to GeoJSON features. If the argument <i>x</i>
    is specified, this method sets the conversion function and
    returns <tt>this</tt>. If no arguments are specified, this
    method returns the current conversion function.
    </p>
  </dd>
</dl>

<dl class="function" id="mapsense.clasify">
  <dt>
    <i>topoJson</i>.<b>classify</b>([<i>x</i>])
  </dt>
  <dd>
    <p>Sets or gets the function used for classifying features.
    The function is invoked once for each feature, and its return
    value is used to determine equivalence classes for grouping.
    Features whose classification value are identical are grouped
    together into a geometry collection. The order of features
    in the original topology is preserved for features within
    a geometry collection.
    </p>
  </dd>
</dl>
